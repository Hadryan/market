<div class="aside-backdrop am-fade tool-list-backdrop" ng-show="isVisible()" ng-click="hide()"></div>
<div class="aside right am-fade-and-slide-right tool-results" ng-show="isVisible()" tabindex="-1" role="dialog" style="width:1000px">
    <div class="aside-dialog">
        <div class="aside-content">
            <div class="tool-list-header">
                <button type="button" class="close" ng-click="hide()">&times;</button>
                <h4 class="aside-title" ng-bind="jname"></h4>
            </div>

            <div  id="tool-list-body" class="aside-body">
                <blockquote>
                    <p>{{ 'TOOLS.DESCRIPTION.' + tab.type.toUpperCase().replace('-', '_')  | translate}}</p>
                </blockquote>
                <hr/>
                <ul class="nav nav-pills nav-stacked nav-metadata">
                    <li ng-repeat="tab in tabs" ng-class="{active : selectedTab==tab.id}">
                        <a href="" ng-click="selectTab(tab.id)" ng-bind="tab.label"></a>
                    </li>
                </ul>
                <div ng-if="results.length > 1">
                    <!-- Nav tabs -->
                    <ul class="nav nav-pills">
                        <li ng-repeat="tab in results" class="{{tab.active===true ? 'active' : ''}}">
                            <a aria-expanded="false" href="#{{tab.key}}" target="_blank" data-toggle="tab" ng-if="tab.type==='text-preview'"><i class="fa fa-eye"></i> {{'TOOLS.PREVIEW_TITLE' | translate}}</a>
                            <a aria-expanded="false" href="#{{tab.key}}" target="_blank" data-toggle="tab" ng-if="tab.type==='link-list'"><i class="fa fa-download"></i> {{'TOOLS.LINK_LIST_TITLE' | translate}}</a>
                            <a aria-expanded="false" href="#{{tab.key}}" target="_blank" data-toggle="tab" ng-if="tab.type!='text-preview' && tab.type!='link-list'">{{tab.label}}</a>
                        </li>
                    </ul>

                    <!-- Tab panes -->
                    <div class="tab-content">
                        <div ng-repeat="pane in results" class="tab-pane fade {{pane.active===true ? 'active in' : ''}}" id="{{pane.key}}">
                            <div onload="result = pane;" ng-include="'common/tools/tool-tpl-'+ pane.type +'.html'"></div>
                        </div>
                    </div>
                </div>
                <div ng-if="results.length == 1">
                    <h4 ng-if="results[0].type==='text-preview'"><i class="fa fa-eye"></i> {{'TOOLS.PREVIEW_TITLE' | translate}}</h4>
                    <h4 ng-if="results[0].type==='link-list'"><i class="fa fa-download"></i> {{'TOOLS.LINK_LIST_TITLE' | translate}}</h4>
                    <h4 ng-if="results[0].type!='text-preview' && results[0].type!='link-list'">{{results[0].label}}</h4>
                    <div onload="result = results[0]" ng-include="'common/tools/tool-tpl-'+ results[0].type +'.html'"></div>
                </div>
            </div>
        </div>
    </div>
</div>
