<nav class="navbar navbar-default navbar-static-top top-nav" role="navigation">
    <div class="container-fluid">
        <div class="navbar-header">
            <button ng-click="toggleNavbar()" type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapsed">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/" data-title="{{'NAV.BETA_VERSION_TOOLTIP' | translate}}" data-html="true" bs-tooltip data-placement="right" data-template-url="common/nav/beta-tooltip-template.html">
                <img class="ortolang-logo" alt="Logo ORTOLANG" src="assets/images/logo-ortolang-white.png"/>
                <span>ORTOLANG</span>
                <span class="beta-version">&nbsp;({{'NAV.BETA_VERSION' | translate}})</span>
            </a>
        </div>

        <ul id="navbar-collapsed" class="nav navbar-nav navbar-right collapse navbar-collapse" ng-cloak>
            <li ng-if="navbarCollapsed" ng-repeat="element in ::sideNavElements | filter:{hiddenTopNav : false}:true track by element.class">
                <a ng-href="#{{::element.path}}" ng-click="toggleNavbar()" data-toggle="collapse" data-target="#navbar-collapsed"><span class="fa-fw" ng-class="::element.iconCss"></span> {{::element.description | translate}}</a>
            </li>
            <li ng-if="authenticated && User.isModerator && Runtime.getTasks().length > 0 && !navbarCollapsed">
                <a href="/profile/tasks" data-title="{{'TASKS' | translate}}" data-placement="bottom" bs-tooltip>
                    <span class="fa fa-fw fa-bell"></span><span class="badge tasks">{{Runtime.getTasks().length > 0 ? Runtime.getTasks().length : ''}}</span>
                    <span class="hidden-description" translate="TASKS"></span>
                </a>
            </li>
            <li class="dropdown" ng-if="!navbarCollapsed">
                <a class="dropdown-toggle" data-toggle="dropdown">
                    <span class="fa fa-fw fa-info-circle"></span> {{'NAV.INFORMATION' | translate}}
                </a>
                <ul class="dropdown-menu">
                    <li ng-repeat="page in ::StaticWebsite.getInformationContent() track by page.id" >
                        <a ng-href="/information/{{::page.id}}"><span class="fa fa-fw" ng-class="::page.iconTop"></span> {{StaticWebsite.getInformationPageTitle(page)}}</a>
                    </li>
                </ul>
            </li>
            <li class="dropdown">
                <a class="dropdown-toggle" data-toggle="dropdown">
                    <span class="fa fa-fw fa-globe"></span> {{'NAV.LANGUAGE' | translate}}
                </a>
                <ul ng-if="navbarCollapsed" class="dropdown-menu">
                    <li ng-click="changeLanguage('en'); toggleNavbar()" data-toggle="collapse" data-target="#navbar-collapsed" class="language" ng-class="{active: currentLanguage === 'en'}"><div translate="NAV.LANGUAGE.ENGLISH"></div></li>
                    <li ng-click="changeLanguage('fr'); toggleNavbar()" data-toggle="collapse" data-target="#navbar-collapsed" class="language" ng-class="{active: currentLanguage === 'fr'}"><div translate="NAV.LANGUAGE.FRENCH"></div></li>
                </ul>
                <ul ng-if="!navbarCollapsed" class="dropdown-menu">
                    <li ng-click="changeLanguage('en')" class="language" ng-class="{active: Settings.language === 'en'}"><div translate="NAV.LANGUAGE.ENGLISH"></div></li>
                    <li ng-click="changeLanguage('fr')" class="language" ng-class="{active: Settings.language === 'fr'}"><div translate="NAV.LANGUAGE.FRENCH"></div></li>
                </ul>
            </li>
            <li class="dropdown" ng-if="authenticated">
                <a class="dropdown-toggle" data-toggle="dropdown">
                    <span avatar data-email-hash="User.emailHash" data-size="30" data-img-classes="img-circle profile-image"></span>
                    {{User.fullName()}}
                </a>
                <ul class="dropdown-menu">
                    <li ng-if="navbarCollapsed" ng-click="toggleNavbar()" data-toggle="collapse" data-target="#navbar-collapsed" ><a href="/profile/information" ><span class="fa fa-user fa-fw"></span> {{'NAV.PROFILE' | translate}}</a></li>
                    <li ng-if="!navbarCollapsed"><a href="/profile/information" ><span class="fa fa-user fa-fw"></span> {{'NAV.PROFILE' | translate}}</a></li>
                    <li ng-click="logout()"><div><span class="fa fa-sign-out fa-fw"></span> {{'NAV.LOG_OUT' | translate}}</div></li>
                    <!--<li ng-click="account()"><div><span class="fa fa-sign-out fa-fw"></span> {{'NAV.ACCOUNT' | translate}}</div></li>-->
                </ul>
            </li>
            <li ng-if="!authenticated"><a ng-click="login()"><span class="fa fa-user fa-fw"></span> {{'LOG_IN' | translate}}</a></li>
        </ul>
    </div>
</nav>
